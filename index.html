<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <title>doodl</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-touch-fullscreen" content="yes">
  <meta name="viewport"
    content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
  <style>
    *, *::after, *::before {
      box-sizing: border-box;
      user-select: none !important;
    }

    body,
    html {
      margin: 0;
      padding: 0;
      overflow: hidden;
      width: 100%;
      height: 100%;
      background-color: #000;
      background-position: center;
      color: white;
      font-family: monospace;
      user-select: none;
      font-size: 15px;
      user-select: none;
      position: fixed;
      -webkit-overflow-scroll: auto;
    }

    .bliss {
      background-image: url("./bliss.jpg");
      background-size: cover;
    }

    #controls {
      position: absolute;
      left: 0;
      top: 0;
      padding: 0.5rem;
      width: 100%;
      z-index: 100;
    }

    button {
      font-size: 13px;
      outline: 0;
      cursor: pointer;
      background: transparent;
      border: 2px solid white;
      color: white;
      padding: 0;
      line-height: 25px;
      height: 50px;
      width: 50px;
      border-radius: 50px;
    }

    button.active,
    button:active {
      background: white;
      color: black;
    }

    button[disabled] {
      opacity: 0.2;
    }

    a {
      color: white;
      text-decoration: underline;
    }

    .pad {
      position: absolute;
      top: 0;
      right: 0;
      width: 20%;
      background: rgba(0, 0, 0, 0.5);
      color: white;
      padding: 20px;
      z-index: 100;
      height: 100%;
    }

    #doodleCanvas {
      position: absolute;
      user-select: none;
      display: block;
      overflow: hidden;
      background: transparent;
      /* z-index: 10000; */
      top: 0;
      left: 0;
    }

    video,
    #basicallySnapchat {
      /* width: 100%;
        object-fit: cover; */
    }

    video,
    #basicallySnapchat,
    #gifCanvas {
      position: absolute;
      user-select: none;
      pointer-events: none;
      background: transparent;
      /* z-index: -1; */
      top: 0;
      left: 0;
    }

    #basicallySnapchat {
      /* width: 100%;
        height: 100%; */
    }

    /* canvas {
        mix-blend-mode: screen;
      } */

    .byline {
      position: fixed;
      bottom: 0.5rem;
      right: 1rem;
    }

    input[type=range] {
      -webkit-appearance: none;
      -moz-appearance: none;
      background: transparent;
      border: 2px solid white;
      padding: 0;
      margin: 0;
      width: 300px;
      height: 80px;
      border-radius: 5px;
    }

    input[type=range]::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 20px;
      height: 80px;
      border-radius: 0;
      background: #fff;
      cursor: pointer;
      border: 0;
      display: block;
    }

    input[type=range]::-moz-range-thumb {
      -moz-appearance: none;
      width: 12px;
      height: 12px;
      border-radius: 0;
      background: #fff;
      cursor: pointer;
      border: 0;
    }

    input[type=color] {
      border: 0;
      width: 90px;
      height: 90px;
      position: absolute;
      top: -8px;
      left: -8px;
      cursor: pointer;
    }

    #fakie {
      outline: 0;
      cursor: pointer;
      background: transparent;
      border: 2px solid white;
      color: white;
      padding: 0;
      line-height: 25px;
      height: 50px;
      width: 50px;
      border-radius: 50px;
      position: relative;
      overflow: hidden;
      position: absolute;
      top: 8px;
      right: 8px;
    }

    label {
      display: inline-block;
      font-family: sans-serif;
      font-size: 13px;
    }

    label div {
      margin-top: 0;
    }

    #snapBlock {
      position: fixed;
      left: 50%;
      bottom: 2%;
      text-align: center;
      transform: translateX(-50%);
      width: 100%;
    }

    @keyframes pop {
      0% {
        transform: scale(0);
      }

      66% {
        transform: scale(1.2);
      }

      100% {
        transform: scale(1);
      }
    }

    #snapBtn {
      border-radius: 50%;
      width: 75px;
      height: 75px;
      line-height: 50px;
      padding: 0;
      position: relative;
    }

    #snapBtn.active {
      background: white;
      animation: pop 250ms ease forwards;
    }

    #snapOff {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      position: absolute;
      line-height: 1;
      bottom: 0;
      margin-left: 0.5rem;
    }

    #gifBro {
      width: 60px;
      height: 40px;
      border-radius: 5px;
    }

    #gifBro.baked {
      /* border-color: blue;
        background-image: linear-gradient(90deg, #00C0FF 0%, #FFCF00 49%, #FC4F4F 100%); */
    }

    .sizing {
      position: fixed;
      left: 0;
      top: 50%;
      width: 40px;
      height: 40px;
    }

    /* .sizing button {
        display: block;
        margin-top: 5px;
        width: 40px;
      } */

    #size {
      text-align: center;
      padding: 0.5em;
      line-height: 1;
      height: 0;
      position: absolute;
      top: -180px;
      width: 40px;
    }

    #sizer {
      transform: rotate(270deg) translateX(-50%) translateY(0%);
      transform-origin: 0 0;
    }

    @keyframes eh {
      from {
        background: white;
        transform: translate(-50%, -50%) scale(0);
      }

      to {
        transform: translate(-50%, -50%) scale(1);
      }
    }

    @keyframes bfade {
      from {
        border-color: rgba(255, 255, 255, 1)
      }

      to {
        border-color: rgba(255, 255, 255, 0)
      }
    }

    @keyframes woo {
      from {
        /* opacity: 1; */
        transform: scale(1);
      }

      to {
        /* opacity: 0; */
        transform: scale(0);
      }
    }

    .woooooooo {
      pointer-events: none;
    }

    .woooooooo::before {
      content: '';
      border-color: transparent;
      background: red;
      content: '';
      background: red;
      border-radius: 50%;
      width: 75px;
      height: 75px;
      position: absolute;
      top: -2px;
      left: -2px;
      transform: translate(-50%, -50%);
      z-index: -1;
      animation: woo 5s linear;
    }

    .ehhhh {
      pointer-events: none;
      position: relative;
      mix-blend-mode: invert;
      animation: bfade 1.5s ease;
    }

    .ehhhh::before {
      animation: eh 1.5s ease;
    }

    .ehhhh::before {
      content: '';
      background: red;
      border-radius: 50%;
      width: 75px;
      height: 75px;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      z-index: -1;

    }

    .hbd {
      position: absolute;
      top: 60%;
      left: 10%;
      width: 120px;
      transform: rotate(-20deg);
    }
  </style>
</head>

<body>
  <div id="controls">
    <button id="clear">Clear</button>
    <button id="eraser" hidden>Eraser</button>
    <button id="replay" hidden>Replay</button>
    <button id="loop" hidden>Loop</button>
    <div id="fakie">
      <input id="color" type="color" value="#0033CC" />
    </div>
    <button id="videoBtn" hidden>Video</button>
    <button id="bliss" hidden>Bliss</button>

    <div id="snapBlock" style="display:none">
      <button id="gifBro" disabled hidden>Gif!</button>
      <button id="snapBtn">Snap!</button>
      <button id="snapOff" disabled>&times;</button>
    </div>

    <div class="sizing">
      <!-- <button id="sizeUp">+</button>
        <button id="sizeDown">-</button> -->
      <!-- <div id="size">50</div> -->
      <input id="sizer" type="range" min="1" max="100" value="50" step="1" hidden>
    </div>

    <!-- <div class="byline">doodl by
        <a href="https://cabe.io" target="_blank">Cabe</a>
      </div> -->
  </div>

  <video id="video" muted autoplay playsinline></video>
  <canvas id="videoCanvas"></canvas>
  <canvas id="basicallySnapchat" hidden></canvas>
  <canvas id="gifCanvas"></canvas>
  <canvas id="doodleCanvas"></canvas>

  <!-- <img src="/hbd.gif" class="hbd"/> -->

  <script src="./dist/bundle.js"></script>
  <script type="text/jscript">
      const body = document.body
    </script>
</body>

</html>